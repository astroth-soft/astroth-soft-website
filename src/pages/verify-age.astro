---
import RoundedButton from "../components/RoundedButton.astro";

// クエリパラメータからリダイレクトURLを取得
const redirectUrl = Astro.url.searchParams.get('r');
const yesHref = redirectUrl ? decodeURIComponent(redirectUrl) : '/';
---

<html lang="ja">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" type="image/png" href="/assets/astroth_logo.png" />
    <meta name="viewport" content="width=device-width" />
    <title>年齢確認 | Astroth</title>
  </head>
  <body
    class="bg-black text-white font-ibm min-h-screen flex items-center justify-center"
  >
    <div class="text-center max-w-md mx-auto px-6">
      <div class="mb-8">
        <h1 class="text-6xl font-outfit font-bold mb-4">CAUTION</h1>
        <p class="text-white text-xl font-semibold">
          このサイトには、<br class="block md:hidden" /> 18 歳未満の方が閲覧できない<br />コンテンツが含まれています。
        </p>
        <p class="text-white text-xl font-semibold">
          あなたは 18 歳以上ですか？
        </p>
      </div>

      <div class="flex flex-col sm:flex-row gap-8 justify-center">
        <a href={yesHref} onclick="localStorage.setItem('isVerified', 'true')">
          <RoundedButton>YES</RoundedButton>
        </a>
        <a href="https://www.tsukuba.ac.jp">
          <RoundedButton>NO</RoundedButton>
        </a>
      </div>
    </div>
  </body>
</html>
